Mapa de Histórias do Usuário — Plataforma de Ensino Online

Este documento organiza as funcionalidades em Épicos → Atividades → Histórias, e explicita a rastreabilidade para os subdomínios (bounded contexts) definidos no Context Mapper.  
Atores contemplados: Aluno, Instrutor, Administrador.


Rastreabilidade (Épico → Subdomínio / Bounded Context)

| Épico                        | Subdomínio / Bounded Context                  | Observações de Integração                                                  |
|------------------------------|                                               |----------------------------------------------------------------------------|
| Autenticação & Perfis        | IdentityAccessContext                         | Fornece identidade/papéis para os demais contextos                         |
| Catálogo & Matrícula         | CourseCatalogContext,EnrollmentBillingContext | Catálogo expõe cursos; Matrícula/Pagamentos controla aquisição e acesso    |
| Gestão de Cursos             | CourseCatalogContext                          | Criação/edição/publicação de cursos, módulos e aulas                       |
| Aprendizado & Progresso      | LearningAssessmentContext                     | Trilha pedagógica, progresso e bloqueio por pré-requisito                  |
| Avaliações                   | LearningAssessmentContext                     | Provas/quizzes com correção automática e/ou manual                         |
| Certificação                 | CertificationContext                          | Emissão e validação de certificados                                        |

> Observação:EnrollmentBillingContext depende de IdentityAccessContext e consome informações de CourseCatalogContext (Customer-Supplier).  
> LearningAssessmentContext utiliza políticas de pré-requisito e atualiza progresso; CertificationContext depende de progresso e aprovação.


Épico 1 — Autenticação & Perfis (IdentityAccessContext)
Atividades: Cadastro, Login, Gestão de Papéis

História 1 — Cadastro com validação de CPF
Como aluno, quero me cadastrar com e-mail e senha validando meu CPF,para que meu acesso seja único e seguro.  
- Ator: Aluno  
- Subdomínio: IdentityAccessContext  
- Critérios de aceite:
  - Recusa cadastro se CPF inválido (formato e dígito verificador).
  - E-mail único (não pode existir outro usuário com o mesmo e-mail).
  - Senha com mínimo de 8 caracteres.

História 2 — Gestão de perfis/autorizações
Como administrador, quero atribuir papéis (Aluno, Instrutor, Admin) aos usuários, para controlar acesso às funcionalidades.  
- Ator: Administrador  
- Subdomínio: IdentityAccessContext  
- Critérios de aceite:
  - Apenas Admin pode alterar papéis.
  - Alteração de papel reflete no acesso aos demais contextos.
  - Log/auditoria de quem alterou e quando.


Épico 2 — Catálogo & Matrícula (CourseCatalogContext + EnrollmentBillingContext)
Atividades: Explorar cursos, Inscrever, Pagar, Conceder Acesso

História 3 — Inscrição com pagamento e cupom
Como aluno, quero me inscrever em um curso e pagar (cartão/boleto) aplicando cupons válidos, para ter flexibilidade e segurança na compra.  
- Ator: Aluno  
- Subdomínios: EnrollmentBillingContext (principal), CourseCatalogContext (preço/curso)  
- Critérios de aceite:
  - Cupom válido por data e limite de uso por usuário.
  - Registro de valor bruto, desconto e valor líquido.
  - Matrícula criada com status ATIVA após confirmação de pagamento.

História 4 — Prazo de acesso da matrícula
Como administrador, quero definir prazo de acesso (ex.: 6 meses) para matrículas, para expirar automaticamente após o período contratado.  
- Ator: Administrador  
- Subdomínio: EnrollmentBillingContext  
- Critérios de aceite:
  - Matrícula armazena `expiresAt` e muda para EXPIRADA após a data.
  - Acesso ao conteúdo é bloqueado quando expira.
  - Notificação ao aluno antes da expiração.

Épico 3 — Gestão de Cursos (CourseCatalogContext)
Atividades: Criar, Editar, Organizar Conteúdo

História 5 — Criação de curso com módulos e aulas
Como instrutor, quero criar cursos com módulos, aulas e materiais (vídeos, PDFs), para oferecer conteúdo estruturado.  
- Ator: Instrutor  
- Subdomínio: CourseCatalogContext  
- Critérios de aceite:
  - Ordem dos módulos definida (sequência didática).
  - Cada aula possui título e contentUrl (ou upload).
  - Curso só pode ser publicado se tiver ao menos 1 módulo e 1 aula.


Épico 4 — Aprendizado & Progresso (LearningAssessmentContext)
Atividades: Acessar aulas, Marcar conclusão, Desbloquear

História 6 — Progresso e desbloqueio por pré-requisito
Como aluno, quero ver meu progresso e desbloquear o próximo módulo somente após concluir o anterior, para seguir a trilha pedagógica.  
- Ator: Aluno  
- Subdomínio: LearningAssessmentContext  
- Critérios de aceite:
  - Módulo N+1 só habilita quando o N atingir 100% (aulas/atividades obrigatórias).
  - Atualização de progresso por aula concluída e avaliação aprovada.
  - Bloqueio indica o que falta para avançar.

Épico 5 — Avaliações (LearningAssessmentContext)
Atividades: Realizar provas/quizzes, Corrigir respostas

História 7 — Avaliação objetiva (auto) e dissertativa (manual)
Como aluno, quero realizar avaliações com correção automática (objetivas) e manual (dissertativas), para avaliação justa e completa.  
- Ator: Aluno  
- Subdomínio: LearningAssessmentContext  
- Critérios de aceite:
  - Avaliação define nota mínima (ex.: 7,0) e peso na nota final.
  - Questões objetivas são corrigidas automaticamente; dissertativas ficam pendentes até correção do instrutor.
  - Status da submissão: APROVADA/REPROVADA/PENDENTE.

Épico 6 — Certificação (CertificationContext)
Atividades: Emitir, Validar Certificado

História 8 — Emissão automática de certificado
Como aluno, quero receber um certificado digital automático ao concluir o curso e ser aprovado nas avaliações, para comprovar minha formação com código de validação.  
- Ator: Aluno  
- Subdomínio: CertificationContext  
- Critérios de aceite:
  - Emissão somente com progresso 100% e todas as avaliações aprovadas.
  - Geração de código/assinatura única validável por endpoint público.
  - Certificado disponível na área do aluno e via link de validação.


Observações finais
- As 8 histórias selecionadas cobrem atores-chave, regras de negócio não triviais e os subdomínios definidos no Context Mapper.  
- Este mapa serve de base para priorização, prototipagem e definição de cenários BDD (ver `docs/cenarios_bdd.feature`).  


